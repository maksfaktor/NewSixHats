# Todo List

## Подключение к репозиторию
- [ ] Подключиться к https://github.com/maksfaktor/NewSixHats
- [ ] Проверить возможность редактировать репозиторий
- [ ] Обсудить следующую задачу

## Текущий прогресс разработки
- [x] Создана базовая структура проекта
- [x] Настроена конфигурация TypeScript
- [x] Реализован последовательный режим обсуждения
- [ ] Добавить обработку ошибок
- [ ] Реализовать сохранение прогресса
- [ ] Добавить тесты для всех компонентов

## Следующие шаги
- [ ] Проверить работу с LangChain
- [ ] Протестировать генерацию промптов
- [ ] Реализовать сохранение истории обсуждения

## Инструкции для агентов:

### 1. Правила обсуждения и коммуникации
- Всегда использовать русский язык в обсуждениях
- Предлагать варианты решений, используя нумерацию
- Ждать подтверждения от пользователя перед внесением изменений
- Обсуждать изменения в спокойном режиме, без спешки

### 2. Порядок работы с кодом
#### 2.1 Последовательный режим обсуждения
- Строгий порядок шляп: синяя -> белая -> красная -> чёрная -> жёлтая -> зелёная -> синяя
- Каждая шляпа должна завершить свою работу перед переходом к следующей
- Запрещено параллельное обсуждение несколькими шляпами
- Пользователь может в любой момент остановить процесс обсуждения кнопкой "Стоп" и, используя синюю шляпу, внести корректировки для дальнейшего направления дискуссии, используя поле ввода текста
- Между переходами шляп предусмотрена настраиваемая задержка:
  * Поле ввода для установки времени задержки в миллисекундах
  * Позволяет регулировать темп обсуждения под потребности пользователя
  * Даёт время на осмысление каждого этапа обсуждения

##### Режимы обсуждения:
1. Один проход:
   * Каждая шляпа участвует в обсуждении один раз
   * После завершения круга формируется итоговое решение
   * Синяя шляпа завершает обсуждение

2. Множественные проходы:
   * Пользователь указывает желаемое количество проходов
   * Каждый новый проход учитывает результаты предыдущих
   * Возможность досрочного завершения при достижении результата

3. Выборочное участие шляп:
   * Возможность временно исключить любую шляпу из обсуждения
   * Исключенные шляпы пропускаются в текущем проходе
   * Возможность вернуть исключенную шляпу в следующем проходе

#### 2.2 Сохранение промежуточных результатов
- Записывать результаты каждой шляпы в MemoryManager
- Использовать формат: [timestamp] [hat_color] [content]
- Сохранять контекст обсуждения при каждом переходе
- Вести лог всех важных решений и изменений

#### 2.3 Обработка прерываний
- При прерывании сохранить текущее состояние
- Зафиксировать точку возврата в todo.md
- Использовать синюю шляпу для управления возобновлением
- Проверить целостность данных после возобновления

#### 2.4 Основные правила
- Следовать последовательному режиму обсуждения
- Фиксировать все изменения в todo.md
- Проверять компиляцию перед коммитом изменений
- Документировать все внесённые изменения

### 3. Требования к тестированию
- Писать тесты для новой функциональности
- Проверять существующие тесты после изменений
- Использовать моки для внешних сервисов
- Следить за покрытием кода тестами

### 4. Правила документирования
- Обновлять README.md при добавлении новых функций
- Добавлять комментарии к сложным участкам кода
- Фиксировать все решения в todo.md
- Использовать понятные названия для переменных и функций

### 5. Процесс проверки изменений
- Запускать тесты после внесения изменений
- Проверять типизацию TypeScript
- Тестировать работу с LangChain
- Проверять сохранение прогресса обсуждения

### Формат записи прогресса
```
[Дата и время] Агент завершил этап [название этапа]
- Что было сделано: [описание]
- Следующий шаг: [описание следующего шага]
- Статус: [успешно/требует доработки]